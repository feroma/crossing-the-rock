exports.ids = [3];
exports.modules = {

/***/ 102:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/BookingRow.vue?vue&type=template&id=48050a26&scoped=true
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "p-3 w-100 d-none d-md-block",
    attrs: {
      "id": "booking-row"
    }
  }, [_vm._ssrNode("<div class=\"container\" data-v-48050a26>", "</div>", [_vm._ssrNode("<div class=\"d-flex align-items-center justify-content-between w-100 pl-3 pr-0 rounded\" data-v-48050a26>", "</div>", [_c('no-ssr', [_c('div', [_c('div', {
    staticClass: "p"
  }, [_vm._v(_vm._s(_vm.labels[1]))]), _vm._v(" "), _c('v-date-picker', {
    attrs: {
      "color": "orange",
      "locale": _vm.currentLang,
      "is-dark": "",
      "min-date": new Date()
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function ({
        inputValue,
        togglePopover
      }) {
        return [_c('input', {
          staticClass: "custom-textfield",
          attrs: {
            "readonly": ""
          },
          domProps: {
            "value": inputValue
          },
          on: {
            "click": function ($event) {
              return togglePopover();
            }
          }
        })];
      }
    }]),
    model: {
      value: _vm.selectedDate.start,
      callback: function ($$v) {
        _vm.$set(_vm.selectedDate, "start", $$v);
      },
      expression: "selectedDate.start"
    }
  })], 1), _vm._v(" "), _c('div', [_c('div', {
    staticClass: "p"
  }, [_vm._v(_vm._s(_vm.labels[2]))]), _vm._v(" "), _c('v-date-picker', {
    attrs: {
      "color": "orange",
      "locale": _vm.currentLang,
      "is-dark": "",
      "min-date": _vm.minEnd
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function ({
        inputValue,
        togglePopover
      }) {
        return [_c('input', {
          staticClass: "custom-textfield",
          attrs: {
            "readonly": ""
          },
          domProps: {
            "value": inputValue
          },
          on: {
            "click": function ($event) {
              return togglePopover();
            }
          }
        })];
      }
    }]),
    model: {
      value: _vm.selectedDate.end,
      callback: function ($$v) {
        _vm.$set(_vm.selectedDate, "end", $$v);
      },
      expression: "selectedDate.end"
    }
  })], 1), _vm._v(" "), _c('div', [_c('div', {
    staticClass: "p"
  }, [_vm._v(_vm._s(_vm.labels[3]))]), _vm._v(" "), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.tot_rooms,
      expression: "tot_rooms"
    }],
    staticClass: "custom-select",
    on: {
      "click": _vm.closeAlert,
      "change": function ($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function (o) {
          return o.selected;
        }).map(function (o) {
          var val = "_value" in o ? o._value : o.value;
          return val;
        });
        _vm.tot_rooms = $event.target.multiple ? $$selectedVal : $$selectedVal[0];
      }
    }
  }, _vm._l(_vm.room_options, function (option) {
    return _c('option', {
      domProps: {
        "value": option
      }
    }, [_vm._v(_vm._s(option) + "\n            ")]);
  }), 0)]), _vm._v(" "), _c('div', [_c('div', {
    staticClass: "p"
  }, [_vm._v(_vm._s(_vm.labels[4]))]), _vm._v(" "), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.adults,
      expression: "adults"
    }],
    staticClass: "custom-select",
    on: {
      "click": _vm.closeAlert,
      "change": function ($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function (o) {
          return o.selected;
        }).map(function (o) {
          var val = "_value" in o ? o._value : o.value;
          return val;
        });
        _vm.adults = $event.target.multiple ? $$selectedVal : $$selectedVal[0];
      }
    }
  }, _vm._l(_vm.options, function (option) {
    return _c('option', {
      domProps: {
        "value": option
      }
    }, [_vm._v(_vm._s(option) + "\n            ")]);
  }), 0)]), _vm._v(" "), _c('div', [_c('div', {
    staticClass: "p"
  }, [_vm._v(_vm._s(_vm.labels[5]))]), _vm._v(" "), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.childrens,
      expression: "childrens"
    }],
    staticClass: "custom-select",
    on: {
      "click": _vm.closeAlert,
      "change": function ($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function (o) {
          return o.selected;
        }).map(function (o) {
          var val = "_value" in o ? o._value : o.value;
          return val;
        });
        _vm.childrens = $event.target.multiple ? $$selectedVal : $$selectedVal[0];
      }
    }
  }, [_c('option', {
    attrs: {
      "value": "0"
    }
  }, [_vm._v("0\n            ")]), _vm._v(" "), _vm._l(_vm.options, function (option) {
    return _c('option', {
      domProps: {
        "value": option
      }
    }, [_vm._v(_vm._s(option) + "\n            ")]);
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "mr-0"
  }, [_c('a', {
    staticClass: "book-link mb-0",
    attrs: {
      "href": "#"
    },
    on: {
      "click": function ($event) {
        $event.stopPropagation();
        $event.preventDefault();
        return _vm.submitForm.apply(null, arguments);
      }
    }
  }, [_vm._v("\n            " + _vm._s(_vm.labels[6]) + "\n          ")])])])], 1)])]);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./components/BookingRow.vue?vue&type=template&id=48050a26&scoped=true

// EXTERNAL MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/BookingRow.vue?vue&type=script&lang=js
var BookingRowvue_type_script_lang_js = __webpack_require__(80);

// CONCATENATED MODULE: ./components/BookingRow.vue?vue&type=script&lang=js
 /* harmony default export */ var components_BookingRowvue_type_script_lang_js = (BookingRowvue_type_script_lang_js["a" /* default */]); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/BookingRow.vue



function injectStyles (context) {
  
  
}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_BookingRowvue_type_script_lang_js,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "48050a26",
  "6b471e90"
  
)

/* harmony default export */ var BookingRow = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 80:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(URLSearchParams) {/* harmony default export */ __webpack_exports__["a"] = ({
  name: "BookingRow",
  data() {
    return {
      selectedDate: {
        start: null,
        end: null
      },
      show: false,
      adults: 1,
      childrens: 0,
      tot_rooms: 1,
      options: [1, 2, 3, 4, 5, 6],
      room_options: [1, 2, 3, 4, 5, 6, 7],
      alert: false
    };
  },
  watch: {
    'selectedDate.start'(newVal, OldVal) {
      if (newVal !== OldVal) {
        let start = new Date(this.selectedDate.start);
        let end = new Date(this.selectedDate.end);
        if (end <= start) {
          /* console.clear()
           console.log(
             {start,end, startIso, endIso}
           )*/
          end = start;
          end.setDate(start.getDate() + 1);
          this.selectedDate.end = end;
        }
      }
    }
  },
  created() {
    if (!this.selectedDate.start) {
      this.selectedDate.start = new Date();
    }
    if (!this.selectedDate.end) {
      let today = new Date();
      let tomorrow = new Date();
      tomorrow.setDate(today.getDate() + 1);
      this.selectedDate.end = tomorrow;
    }
  },
  computed: {
    minEnd() {
      let start = new Date(this.selectedDate.start);
      if (!this.selectedDate.start) {
        start = new Date();
      }
      start.setDate(start.getDate() + 1);
      return start;
    },
    labels() {
      const l = {
        en: ['Book Now â€“ Plan Your Stay', 'Arrive', 'Departure', 'Rooms', 'Adults', 'Childrens', 'Book now'],
        it: ['Prenota ora', 'Arrivo', 'Partenza', 'Camere', 'Adulti', 'Bambini', 'Prenota ora']
      };
      return l[this.currentLang];
    }
  },
  methods: {
    formatDate(date) {
      if (this.currentLang === 'en') {
        return date.getFullYear() + '.' + (date.getMonth() + 1) + '.' + date.getDate();
        //return date.getFullYear()+'.'+(date.getMonth()+1)+'.'+date.getDate()
      } else {
        return date.getDate() + '.' + (date.getMonth() + 1) + '.' + date.getFullYear();
      }
    },
    closeAlert() {
      this.alert = false;
    },
    checkform() {
      let error = false;
      if (!this.adults || !this.rooms) {
        error = true;
      }
      return error;
    },
    submitForm() {
      let start = new Date(this.selectedDate.start);
      let end = new Date(this.selectedDate.end);
      let url = 'https://reservations.verticalbooking.com/premium/index2.html';
      let langPref = this.currentLang === 'en' ? 'eng' : 'ita';
      const submitData = {
        tot_camere: this.tot_rooms,
        tot_adulti: this.adults,
        tot_bambini: this.childrens,
        gg: start.getDate(),
        mm: start.getMonth() + 1,
        aa: start.getFullYear(),
        ggf: end.getDate(),
        mmf: end.getMonth() + 1,
        aaf: end.getFullYear(),
        // notti_1:1,
        // headvar:'ok',

        id_style: 20424,
        lingua_int: langPref,
        id_albergo: 26980,
        dc: 5519,
        countryCode: 'IT'
        // adulti1:this.adults,
        // bambini1:this.childrens,
      };
      //console.clear();
      console.log(submitData);
      const params = new URLSearchParams(submitData);
      let u = url + '?' + params.toString();
      window.open(u, '_blank', 'noreferrer');
    }
  },
  props: {}
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(30)["URLSearchParams"]))

/***/ })

};;
//# sourceMappingURL=booking-row.js.map