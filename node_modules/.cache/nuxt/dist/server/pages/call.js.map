{"version":3,"file":"pages/call.js","sources":["webpack:///./pages/call.vue","webpack:///./pages/call.vue?0160","webpack:///./pages/call.vue?384d","webpack:///./mixins/locomotive.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._ssrNode(\"<div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-12 col-md-6 offset-md-3\\\"><div class=\\\"p-5 bg-black\\\"><a href=\\\"#\\\">test call</a> <br> <a href=\\\"#\\\">test error</a></div></div></div></div>\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./call.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./call.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./call.vue?vue&type=template&id=62d1d16f\"\nimport script from \"./call.vue?vue&type=script&lang=js\"\nexport * from \"./call.vue?vue&type=script&lang=js\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"4ae28b16\"\n  \n)\n\nexport default component.exports","import _ from \"lodash\"\n\nconst OFFSET = 350\nimport gsap from \"gsap\"\nimport ScrollTrigger from \"gsap/ScrollTrigger\"\n\ngsap.registerPlugin(ScrollTrigger)\nexport default {\n  data () {\n    return {\n      scrollPosition: 0,\n      lmS: null\n    }\n  },\n  watch: {\n    $route () {\n      console.log(\"route changed: \", this.$route)\n      this.lmS.update()\n    }\n  },\n  mounted () {\n\n    this.$nextTick(\n      function () {\n\n        this.lmS = new this.locomotiveScroll({\n          el: document.querySelector(\"#js-scroll\"),\n          smooth: true, /* if false disable overflow: hidden on html, body */\n          getSpeed: true,\n          getDirection: true,\n          reloadOnContextChange:true,\n          inertia: 0.5,\n        })\n        //console.log(\"mounted\");\n\n        this.lmS.on(\"scroll\", () => {\n            _.throttle(this.onLmsScroll, 150)\n          }\n        )\n        window.addEventListener(\n          \"resize\",\n          _.debounce(this.onLmsResize.bind(this), 100)\n        )\n        // this.$nextTick(() => {\n        //   this.animate();\n        // })\n        setTimeout(() => {\n          console.log(\"update\")\n          this.lmS.update()\n\n        }, 3000)\n\n\n\n      }.bind(this)\n    )\n\n\n  },\n  destroyed () {\n    console.log(\"destroy\")\n    this.lmS.destroy()\n    window.removeEventListener(\"resize\", this.onLmsResize)\n  },\n\n  methods: {\n    animate () {\n      const this_lms = this.lmS\n\n      ScrollTrigger.scrollerProxy(\"#js-scroll\", {\n        scrollTop (value) {\n          return arguments.length ?\n            this_lms.scrollTo(value, {duration: 0, disableLerp: true}) :\n            this_lms.scroll.instance.scroll.y\n        }, // we don't have to define a scrollLeft because we're only scrolling vertically.\n        getBoundingClientRect () {\n          return {top: 0, left: 0, width: window.innerWidth, height: window.innerHeight}\n        },\n        // LocomotiveScroll handles things completely differently on mobile devices - it doesn't even transform the container at all! So to get the correct behavior and avoid jitters, we should pin things with position: fixed on mobile. We sense it by checking to see if there's a transform applied to the container (the LocomotiveScroll-controlled element).\n        pinType: document.querySelector(\"#js-scroll\").style.transform ? \"transform\" : \"fixed\"\n      })\n\n      ScrollTrigger.addEventListener(\"refresh\", () => this_lms.update())\n      //ScrollTrigger.defaults({scroller: \"#js-scroll\"})\n      let h2 = gsap.utils.toArray(\"h2\");\n     // let h1 = gsap.utils.toArray(\"h1\");\n      let p = gsap.utils.toArray(\"p\");\n      let headings = [ ...h2, ...p];\n\n\n      console.log(headings)\n      //gsap.set('.head-anim', {opacity: 0})\n      headings.forEach((heading, i) => {\n        let tl = gsap.timeline({\n          scrollTrigger: {\n            trigger: heading,\n            start: \"top 75%\",\n            end: 'top 26%',\n            //markers: true,\n            toggleActions: \"restart reverse restart reverse\",\n            scrub: true,\n            scroller: \"#js-scroll\"\n          }\n        })\n        tl.fromTo(heading,{opacity: 0}, {  opacity: 1, duration:4})\n      })\n\n\n      // let headings = gsap.utils.toArray(\"h2\");\n      // gsap.set(headings, {opacity: 0})\n      //\n      //\n      // headings.forEach((heading, i) => {\n      //     console.log(heading)\n      //     let tl = gsap.timeline({\n      //       scrollTrigger: {\n      //         trigger: 'body',\n      //         start: \"top center\",\n      //         end:'bottom 10%',\n      //         markers: true,\n      //         scrub: true\n      //       }\n      //     })\n      //     tl.to(heading, {  opacity: 1})\n      // });\n      // headings.forEach((heading, i) => {\n      //   // let anim = gsap.timeline({\n      //   //   scrollTrigger: {\n      //   //     trigger: '#catalog',\n      //   //     // markers: true,\n      //   //     start: \"top bottom\"\n      //   //     // end: \"bottom top\",\n      //   //     // toggleActions: \"restart reverse restart reverse\"\n      //   //   }\n      //   // })\n      //\n      //   let tl = gsap.timeline({\n      //     scrollTrigger: {\n      //       // trigger: heading,\n      //       start: \"top center\",\n      //       end:'bottom 10%',\n      //       markers: true,\n      //       scrub: true\n      //     }\n      //   })\n      //\n      //  //  tl.to(heading, {  opacity: 1})\n      //   //   .to(heading, { yPercent: -200, opacity: 0}, \"+=1\")\n      // });\n    },\n    onLmsScroll (obj) {\n      this.scrollPosition = obj[\"scroll\"][\"y\"]\n      // console.log(\"scrollPosition + na\", this.scrollPosition);\n    },\n    onLmsResize () {\n      this.lmS.update()\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;AADA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;;ACxCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}